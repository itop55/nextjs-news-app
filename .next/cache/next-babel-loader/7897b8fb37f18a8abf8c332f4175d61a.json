{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _jsxFileName = \"C:\\\\Users\\\\CHOROK\\\\projects\\\\news-app\\\\pages\\\\index.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { get } from \"../services/rest_service\";\nimport Layout from \"../components/layout\";\nimport Post from \"../components/post\";\n\nfunction Page(_ref) {\n  var _this = this;\n\n  var posts = _ref.posts;\n  return __jsx(Layout, {\n    title: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"posts-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }\n  }, posts.map(function (item, index) {\n    return __jsx(Post, _extends({\n      key: index\n    }, item, {\n      index: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 22\n      }\n    }));\n  })));\n}\n\n_c = Page;\nPage.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var posts, res;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          posts = [];\n          _context.next = 3;\n          return get(\"\".concat(process.env.NEWS_API_URL, \"?q=cosmos&from=2020-09-23&apiKey=\").concat(process.env.NEWS_API_KEY));\n\n        case 3:\n          res = _context.sent;\n\n          if (res.data && res.data.status === \"ok\") {\n            posts = res.data.articles;\n          } else {\n            console.error(res.error);\n          }\n\n          return _context.abrupt(\"return\", {\n            posts: posts\n          });\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Page;\n\nvar _c;\n\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"sources":["C:/Users/CHOROK/projects/news-app/pages/index.tsx"],"names":["get","Layout","Post","Page","posts","map","item","index","getInitialProps","process","env","NEWS_API_URL","NEWS_API_KEY","res","data","status","articles","console","error"],"mappings":";;;;;;AAAA,SAAQA,GAAR,QAAkB,0BAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;AAMA,SAASC,IAAT,OAA8B;AAAA;;AAAA,MAAfC,KAAe,QAAfA,KAAe;AAC5B,SACI,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,mGAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIA,KAAK,CAACC,GAAN,CAAU,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACzB,WAAO,MAAC,IAAD;AAAO,MAAA,GAAG,EAAEA;AAAZ,OAAuBD,IAAvB;AAA6B,MAAA,KAAK,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD,GAFD,CAFJ,CADF,CADJ;AAWD;;KAZQH,I;AAcTA,IAAI,CAACK,eAAL,yEAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBJ,UAAAA,KADiB,GACT,EADS;AAAA;AAAA,iBAEEJ,GAAG,WAAIS,OAAO,CAACC,GAAR,CAAYC,YAAhB,8CAAgEF,OAAO,CAACC,GAAR,CAAYE,YAA5E,EAFL;;AAAA;AAEfC,UAAAA,GAFe;;AAIrB,cAAIA,GAAG,CAACC,IAAJ,IAAYD,GAAG,CAACC,IAAJ,CAASC,MAAT,KAAoB,IAApC,EAA0C;AACxCX,YAAAA,KAAK,GAAGS,GAAG,CAACC,IAAJ,CAASE,QAAjB;AACD,WAFD,MAEO;AACLC,YAAAA,OAAO,CAACC,KAAR,CAAcL,GAAG,CAACK,KAAlB;AACD;;AARoB,2CAUd;AAACd,YAAAA,KAAK,EAALA;AAAD,WAVc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB;AAaA,eAAeD,IAAf","sourcesContent":["import {get} from \"../services/rest_service\"\nimport Layout from \"../components/layout\"\nimport Post from \"../components/post\"\n\ntype Props = {\n  posts: any[];\n}\n\nfunction Page({posts}: Props) {\n  return (\n      <Layout title=\"Страница новостей\">\n        <div className=\"posts-wrapper\">\n          {\n            posts.map((item, index) => {\n              return <Post  key={index} {...item} index />\n            })\n          }\n        </div>\n      </Layout>\n  )\n}\n\nPage.getInitialProps = async () => {\n  let posts = []\n  const res: any = await get(`${process.env.NEWS_API_URL}?q=cosmos&from=2020-09-23&apiKey=${process.env.NEWS_API_KEY}`);\n\n  if (res.data && res.data.status === \"ok\") {\n    posts = res.data.articles;\n  } else {\n    console.error(res.error)\n  }\n\n  return {posts}\n};\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}